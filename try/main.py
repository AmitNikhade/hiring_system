

test_form = ["""""

Section 1: Introductory Questions Instructions: Please provide brief responses.

1.1. How would you describe yourself in three words?

Learning constantly, knowledge application, innovation

1.2. What motivated you to apply for this position?

Interaction with various dept

1.3. Share a situation where you had to overcome a significant challenge. How did you handle it?

Working in night shifts and handling 100 work power on shop floor

Section 2: Personality Traits Instructions: Rate the following statements on a scale of 1 to 5, where 1 is strongly disagree and 5 is strongly agree.

2.1. I am comfortable working in a team. - 4

2.2. I enjoy taking on new challenges. - 5

2.3. I am detail-oriented. - 4

2.4. I can handle stress well. - 4

2.5. I am adaptable to change.- 5

Section 3: Work Ethic and Values Instructions: Choose the response that best describes your approach.

3.1. When facing a tight deadline, I am more likely to: a) Prioritize quality over speed b) Prioritize speed over perfection - a.

3.2. How do you handle disagreements with colleagues? a) Confront the issue directly b) Seek compromise and find common ground - b.

3.3. Describe your approach to time management and meeting deadlines.

Time management should be valued and optimally used to meet deadlines in a effective way

Section 4: Problem-Solving Skills Instructions: Provide detailed responses.

4.1. Share an example of a work-related problem you successfully solved. What steps did you take?

SOP Implementation. Activities are assigned and explained to respective persons to align them for smooth working.

4.2. How do you approach situations where you don’t have all the information needed to make a decision?

Gather information and take time to make a decision based on intuition.

Section 5: Interpersonal Skills Instructions: Choose the response that best represents your behavior.

5.1. In a group setting, I am more likely to: a) Take a leadership role b) Listen and contribute ideas as a team member - b

5.2. How do you build rapport with colleagues and clients?

Understand their working style and requirements and engage accordingly as per the need

Section 6: Communication Skills Instructions: Rate your proficiency on a scale of 1 to 5, where 1 is not proficient and 5 is highly proficient.

6.1. Written communication skills: 4

6.2. Verbal communication skills: 4

Section 7: Situational Judgment Instructions: Choose the response that best aligns with your approach.

7.1. You discover a mistake in a project that could have serious consequences. What do you do? a) Immediately report it to your supervisor b) Try to fix it yourself before reporting - a/b depending on the situation and shift

7.2. How do you handle criticism and feedback?

Constructively

Section 8: Additional Information Instructions: Provide any additional information you believe is relevant to your application.

8.1. Are there any specific achievements or experiences that you feel make you a strong fit for this position?

Similar role during my previous consultancy experience

8.2. Is there anything else you would like us to know about you?

Chill and relaxed

Thank you for completing the personality and character analysis test. We appreciate your time and effort.


2) How will you describe yourself in a paragraph?
[Text Input of at least 300 words, that completely describe]


My name is Shreyas Harish Kale, age - 28 yrs young. My native place is Panchgani which is a hill station in the Western Ghats. We are 4 members in our family - Mother, Father, younger Brother. I come from a middle class family background, which helps me to be simple and adapt as per the situation. I am quite shy, and take time to open up. But as time progresses, the time taken to build a bond catalyses it to be strong and builds a lifelong bond with family, people, friends, etc.


I am an introvert and intuitive person. People very close (family and my childhood friends) to me know my nature which generally does not reflect in my body language. I was good at studies, so I chose to become an Engineer. Also I like playing sports a lot from my school days. Sports helps to be neutral and keeps a balance in life. Hence, though my nature is soft spoken and mild, but it's aggressive from inside in a good way just like a Fast Bowler in Cricket. My interests are mixed - both education and sports, trekking and trips to different places.


I like to chat with people regarding their life, struggles, success and more importantly failure. It helps to know a person more deeply about their mindset, nature other than just knowing them socially and casually. My aim is to buy a house for my family in the coming months/a year or so and stay with them happily and build a career along with the aspirations and gain stability.






3) Employee Strengths and Weaknesses Analysis Test

Instructions:

    Answer each question honestly and to the best of your ability.

    There is no time limit, but please complete the test in one sitting.

    Your responses will be confidential and used only for evaluation purposes.

Section 1: Skills Assessment

1.1. Rate your proficiency (1 = novice, 5 = expert) in the following skills:

    Project management: 3.5

    Data analysis: 4

    Written communication: 4

    Technical skills relevant to the position: 4

Section 2: Behavioral Questions

2.1. Describe a challenging situation at work where you demonstrated problem-solving skills. What was the outcome?

SOP Implementation. Activities are assigned and explained to respective persons to align them for smooth working.

2.2. How do you handle tight deadlines and high-pressure situations?

Calmly

2.3. Provide an example of a successful collaboration with a team. What role did you play?

Projects in Internship. Intern

Project at JSAW - Business Analyst - IE

Section 3: Self-Reflection

3.1. What do you consider your greatest professional achievement, and why?

AIR - 6 in the UN exam in secondary section.

Successful SOP implementation in Manufacturing Industry and playing a small part in it.

3.2. Identify a skill or area where you feel you can improve. What steps are you taking to address this?

Be vocal. Talking - Communication on a regular basis

Multiple thoughts. Streamline thoughts at a particular time as per the need of the hour

Section 4: Scenario-Based Questions

4.1. You receive conflicting instructions from two supervisors regarding task priorities. How do you handle this situation?

Common grounds solution

4.2. If you were assigned a project outside your comfort zone, how would you approach it?

Do my homework before approaching

Section 5: Situational Judgment

5.1. In a team project, a team member is not contributing adequately. How would you address this issue?

Explain the roles and responsibilities and help them whenever needed

5.2. You discover a mistake in a report just before a deadline. What steps do you take?

Correct the mistake within the deadline. If not, accept the mistake

Section 6: Job-Specific Knowledge

6.1. Demonstrate your understanding of key concepts related to [specific area relevant to the job].

Logically understand the key steps involved and diagram it as per process

6.2. How do you stay updated on industry trends and advancements?

Reading, notifications, websites

Section 7: Open-Ended Questions

7.1. Share your long-term career goals and how this position aligns with them.

Long - term career goals - GM in 10-15 yrs

Aligns with understanding the roles and responsibilities of individuals, SWOT analysis and plug the gaps and loopholes

7.2. What attracted you to our organization, and how do you see yourself contributing to our mission?

Working with MSMEs will be a new and helpful experience.

Contribute - customer satisfaction by applying our mission"""""],["""""Personal Information:

    Full Name: SHREYAS HARISH KALE

    Position Applied For: SR ASSOCIATE - INDUSTRIAL ENGINEER

    Date: 16/01/24

Section 1: Introductory Questions Instructions: Please provide brief responses.

1.1. How would you describe yourself in three words?

Learning constantly, knowledge application, innovation

1.2. What motivated you to apply for this position?

Interaction with various dept

1.3. Share a situation where you had to overcome a significant challenge. How did you handle it?

Working in night shifts and handling 100 work power on shop floor

Section 2: Personality Traits Instructions: Rate the following statements on a scale of 1 to 5, where 1 is strongly disagree and 5 is strongly agree.

2.1. I am comfortable working in a team. - 4

2.2. I enjoy taking on new challenges. - 5

2.3. I am detail-oriented. - 4

2.4. I can handle stress well. - 4

2.5. I am adaptable to change.- 5

Section 3: Work Ethic and Values Instructions: Choose the response that best describes your approach.

3.1. When facing a tight deadline, I am more likely to: a) Prioritize quality over speed b) Prioritize speed over perfection - a.

3.2. How do you handle disagreements with colleagues? a) Confront the issue directly b) Seek compromise and find common ground - b.

3.3. Describe your approach to time management and meeting deadlines.

Time management should be valued and optimally used to meet deadlines in a effective way

Section 4: Problem-Solving Skills Instructions: Provide detailed responses.

4.1. Share an example of a work-related problem you successfully solved. What steps did you take?

SOP Implementation. Activities are assigned and explained to respective persons to align them for smooth working.

4.2. How do you approach situations where you don’t have all the information needed to make a decision?

Gather information and take time to make a decision based on intuition.

Section 5: Interpersonal Skills Instructions: Choose the response that best represents your behavior.

5.1. In a group setting, I am more likely to: a) Take a leadership role b) Listen and contribute ideas as a team member - b

5.2. How do you build rapport with colleagues and clients?

Understand their working style and requirements and engage accordingly as per the need

Section 6: Communication Skills Instructions: Rate your proficiency on a scale of 1 to 5, where 1 is not proficient and 5 is highly proficient.

6.1. Written communication skills: 4

6.2. Verbal communication skills: 4

Section 7: Situational Judgment Instructions: Choose the response that best aligns with your approach.

7.1. You discover a mistake in a project that could have serious consequences. What do you do? a) Immediately report it to your supervisor b) Try to fix it yourself before reporting - a/b depending on the situation and shift

7.2. How do you handle criticism and feedback?

Constructively

Section 8: Additional Information Instructions: Provide any additional information you believe is relevant to your application.

8.1. Are there any specific achievements or experiences that you feel make you a strong fit for this position?

Similar role during my previous consultancy experience

8.2. Is there anything else you would like us to know about you?

Chill and relaxed

Thank you for completing the personality and character analysis test. We appreciate your time and effort.


2) How will you describe yourself in a paragraph?
[Text Input of at least 300 words, that completely describe]


My name is Shreyas Harish Kale, age - 28 yrs young. My native place is Panchgani which is a hill station in the Western Ghats. We are 4 members in our family - Mother, Father, younger Brother. I come from a middle class family background, which helps me to be simple and adapt as per the situation. I am quite shy, and take time to open up. But as time progresses, the time taken to build a bond catalyses it to be strong and builds a lifelong bond with family, people, friends, etc.


I am an introvert and intuitive person. People very close (family and my childhood friends) to me know my nature which generally does not reflect in my body language. I was good at studies, so I chose to become an Engineer. Also I like playing sports a lot from my school days. Sports helps to be neutral and keeps a balance in life. Hence, though my nature is soft spoken and mild, but it's aggressive from inside in a good way just like a Fast Bowler in Cricket. My interests are mixed - both education and sports, trekking and trips to different places.


I like to chat with people regarding their life, struggles, success and more importantly failure. It helps to know a person more deeply about their mindset, nature other than just knowing them socially and casually. My aim is to buy a house for my family in the coming months/a year or so and stay with them happily and build a career along with the aspirations and gain stability.






3) Employee Strengths and Weaknesses Analysis Test

Instructions:

    Answer each question honestly and to the best of your ability.

    There is no time limit, but please complete the test in one sitting.

    Your responses will be confidential and used only for evaluation purposes.

Section 1: Skills Assessment

1.1. Rate your proficiency (1 = novice, 5 = expert) in the following skills:

    Project management: 3.5

    Data analysis: 4

    Written communication: 4

    Technical skills relevant to the position: 4

Section 2: Behavioral Questions

2.1. Describe a challenging situation at work where you demonstrated problem-solving skills. What was the outcome?

SOP Implementation. Activities are assigned and explained to respective persons to align them for smooth working.

2.2. How do you handle tight deadlines and high-pressure situations?

Calmly

2.3. Provide an example of a successful collaboration with a team. What role did you play?

Projects in Internship. Intern

Project at JSAW - Business Analyst - IE

Section 3: Self-Reflection

3.1. What do you consider your greatest professional achievement, and why?

AIR - 6 in the UN exam in secondary section.

Successful SOP implementation in Manufacturing Industry and playing a small part in it.

3.2. Identify a skill or area where you feel you can improve. What steps are you taking to address this?

Be vocal. Talking - Communication on a regular basis

Multiple thoughts. Streamline thoughts at a particular time as per the need of the hour

Section 4: Scenario-Based Questions

4.1. You receive conflicting instructions from two supervisors regarding task priorities. How do you handle this situation?

Common grounds solution

4.2. If you were assigned a project outside your comfort zone, how would you approach it?

Do my homework before approaching

Section 5: Situational Judgment

5.1. In a team project, a team member is not contributing adequately. How would you address this issue?

Explain the roles and responsibilities and help them whenever needed

5.2. You discover a mistake in a report just before a deadline. What steps do you take?

Correct the mistake within the deadline. If not, accept the mistake

Section 6: Job-Specific Knowledge

6.1. Demonstrate your understanding of key concepts related to [specific area relevant to the job].

Logically understand the key steps involved and diagram it as per process

6.2. How do you stay updated on industry trends and advancements?

Reading, notifications, websites

Section 7: Open-Ended Questions

7.1. Share your long-term career goals and how this position aligns with them.

Long - term career goals - GM in 10-15 yrs

Aligns with understanding the roles and responsibilities of individuals, SWOT analysis and plug the gaps and loopholes

7.2. What attracted you to our organization, and how do you see yourself contributing to our mission?

Working with MSMEs will be a new and helpful experience.

Contribute - customer satisfaction by applying our mission"""""]




from flask import Flask, request, Response, jsonify
import requests
import os
import glob
from openai import OpenAI
from flask_cors import CORS
# Specify the directory name you want to create
# directory_name = "uploads"

# # Use the mkdir method to create the directory
# try:
#     os.mkdir(directory_name)
#     print(f"Directory '{directory_name}' created successfully.")
# except FileExistsError:
#     print(f"Directory '{directory_name}' already exists.")
# except Exception as e:
#     print(f"An error occurred: {e}")



directory_name = "text_files"

# Use the mkdir method to create the directory
# try:
#     os.mkdir(directory_name)
#     print(f"Directory '{directory_name}' created successfully.")
# except FileExistsError:
#     print(f"Directory '{directory_name}' already exists.")
# except Exception as e:
#     print(f"An error occurred: {e}")


app = Flask(__name__)
CORS(app)
# UPLOAD_FOLDER = 'uploads'
ALLOWED_EXTENSIONS = {'pdf'}

# app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER

client = OpenAI(api_key='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')


def allowed_file(filename):
    return '.' in filename and filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS


def parse_resume():
    resumes = []
    url = 'https://api.apilayer.com/resume_parser/upload'
    headers = {
        'Content-Type': 'application/octet-stream',
        'apikey': 'ZPDcHTNOomS7CiFl88LP67SCP1GVuztf'
    }

    folder_path = 'uploads/*.pdf'
    files = glob.glob(folder_path)
    print(files)
    for i, file_path in enumerate(files):
        print(file_path)
        with open(file_path, 'rb') as f:
            data = f.read()
        response = requests.post(url, headers=headers, data=data)
        resumes.append("Resume " + str(i) + ":  " + str([response.text]))
    print("resumes parsed:",resumes)
    return resumes


def job_title_identify(resumes):
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
    {"role": "system", "content": "You are a Human resource assistant."},
    {"role": "user", "content": "Evaluate the given resume in the provided JSON object containing data for various people (" + str(resumes) + "). Identify and provide the names and positions of 2-4 positions that this resume best fits."},
]

    )
    return completion.choices[0].message.content


def test_analysis(test_outputs):
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
{"role": "system", "content": "you are a personality and character analyst, skilled at evaluating individuals based on limited data from a personality and character analysis test "},
{"role": "user", "content": "Analyze the provided data and identify the superior individual(s). Provide your assessment briefly: " + str(test_outputs)},
{"role": "user", "content": "Construct your response without using any negative language or expressions."},
{"role": "user", "content": "Confirm the feasibility of determining the most superior individual from the given data; refrain from stating it is not possible."}
]
    )
    return completion.choices[0].message.content


def resume_analysis(resumes, hr_input, job_title):
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": "You are a Human resource assistant."},
            {"role": "user", "content": "These JSON objects can consist of resume data of multiple people with their names and respective biodata: " + str(resumes)},
            {"role": "user", "content": "Based on this provided resume details of n number of people, assess its alignment with the provided job description (" + str(hr_input) + ") for the position of " + str(job_title) + ". Decide whether the candidate should be shortlisted for an interview from the provided resume, providing evidence for your decision. Consider relevant qualifications, skills, and experience, and detect potential fake, fraudulent, or irrelevant details. Focus on a concise response, stating your decision and supporting it with specific resume elements while avoiding unnecessary elaboration."},
            {"role": "user", "content": "Please mention the names present in the resume data before their analysis."},
            {"role": "user", "content": "Don't shortlist every resume, select only the most superior one"}
        ]
    )
    return completion.choices[0].message.content


def final_analysis(resume_rep, job_title, pc_ana, job_identified):
    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": "You are a Human resource assistant."},
            {"role": "user", "content": "Based on this resume analysis: (" + str(resume_rep) + "), with the required job title: " + str(job_title) + " and also analyzing the personality and character based on this test form analysis: (" + str(pc_ana) + "). Decide whether the candidate should be shortlisted for an interview from the provided personality character analysis test form analysis report and the resume analysis report, providing evidence for your decision"},
            {"role": "user", "content": "please do consider, the job title that are best fit from the resumes are : "+job_identified},
            {"role": "user", "content": "Please do not add any negative sentences/replies in the text."},
            {"role": "user", "content": "Don't shortlist every resume, select only the most superior one"}
        ]
    )
    return completion.choices[0].message.content



##########################################################

@app.route('/test', methods=['POST'])
def test_data():

    return "done"


import logging
import google.cloud.logging

# Instantiates a client
# client = google.cloud.logging.Client()

# Retrieves a Cloud Logging handler based on the environment
# you're running in and integrates the handler with the
# Python logging module. By default this captures all logs
# at INFO level and higher
# client.setup_logging()


@app.route('/upload', methods=['POST'])
def upload_files():



    try:
        print("hello")
        data = request.get_json()
        print(data)
        try:
            text = data['test']
            jt = data['dropdownValue']
            rid = data['id']
            logging.warning(text)
            directory_name = rid.split('_')[1]
            app.config['UPLOAD_FOLDER'] = directory_name
            try:
                os.mkdir(directory_name)
                print(f"Directory '{directory_name}' created successfully.")
            except FileExistsError:
                print(f"Directory '{directory_name}' already exists.")
            except Exception as e:
                print(f"An error occurred: {e}")
            filename = os.path.join(directory_name,"test.txt")
            # print(">>>>>>>>>>", filename)
            with open(filename, 'w') as file1:
                file1.write(str(text))
                print("done")
            return jsonify({"Info":"test file created"})
        except: 
            text = data['jtjp']
            print(type(text))
            with open('text_files/jtjp.txt', 'w') as file1:
                file1.write(text)
                return jsonify({"Info":"jtjp file created"})
    except:
        
        if 'files[]' not in request.files:
            
            return jsonify({'error': 'No file part'})
        
        files = request.files.getlist('files[]')

        uploaded_files = []

        for file in files:
            if file and allowed_file(file.filename):
                
                

                filename = os.path.join(app.config['UPLOAD_FOLDER'], file.filename)
                file.save(filename)
                print(">>>>>>>>>>>>>>",filename)
                uploaded_files.append(filename)
                
        if not uploaded_files:
            return jsonify({'error': 'No valid PDF files uploaded'})
        
        # return "uploaded successfully"
        r_list = parse_resume()
        job_identified = job_title_identify(r_list)

        with open("text_files/test.txt", 'r') as file:
            test_outp = file.read()

        test_report = test_analysis(test_outp)

        with open("text_files/jtjp.txt", 'r') as file:
          
            text_job = file.read().split("|")
        job_title = text_job[0]
        job_desc = text_job[1]

        resume_report = resume_analysis(r_list, job_desc, job_title)
        final_output = final_analysis(resume_report, job_title, test_report, job_identified)
       
        return "Suitable Jobs Identified for the resume uploaded :                                               " + str(job_identified)+" About Personality & character:                                          "+ str(test_report)+" Resume Analysis:                                              "+str(resume_report)+"  Conclusion                              "+ str(final_output)
        


@app.route("/isalive", methods=['POST'])
def is_alive():
    print("/isalive request")
    status_code = Response(status=200)
    return status_code


if __name__ == '__main__':
    app.run(debug=True)
